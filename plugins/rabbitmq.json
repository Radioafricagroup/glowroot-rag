{
  "name": "RMQ Plugin",
  "id": "rmq",
  "instrumentation": [
    {
      "captureKind": "transaction",
      "alreadyInTransactionBehavior": "capture-trace-entry",
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ Connection {{methodName}}",
      "traceEntryMessageTemplate": "RMQ Connection {{_}}",
      "traceEntryCaptureSelfNested": true,
      "timerName": "RMQ Connection",
      "className": "com.rabbitmq.client.ConnectionFactory",
      "methodName": "newConnection",
      "methodParameterTypes": [
        ".."
      ],
      "traceEntryStackThresholdMillis": 0,
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "trace-entry",
      "alreadyInTransactionBehavior": null,
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ Connection {{methodName}}",
      "traceEntryMessageTemplate": "RMQ Connection {{_}}",
      "traceEntryCaptureSelfNested": true,
      "timerName": "RMQ Connection",
      "className": "com.rabbitmq.client.ConnectionFactory",
      "methodName": "newConnection",
      "methodParameterTypes": [
        ".."
      ],
      "traceEntryStackThresholdMillis": 0,
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "timer",
      "alreadyInTransactionBehavior": null,
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ Connection {{this}}",
      "timerName": "RMQ Connection",
      "className": "com.rabbitmq.client.ConnectionFactory",
      "methodName": "newConnection",
      "methodParameterTypes": [
        ".."
      ],
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "transaction",
      "alreadyInTransactionBehavior": "capture-trace-entry",
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ Ack {{0}} {{1}}",
      "traceEntryMessageTemplate": "RMQ Ack {{_}}",
      "traceEntryCaptureSelfNested": true,
      "timerName": "RMQ Ack",
      "className": "com.rabbitmq.client.Channel",
      "methodName": "basicAck",
      "methodParameterTypes": [
        "long",
        "boolean"
      ],
      "traceEntryStackThresholdMillis": 0,
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "trace-entry",
      "alreadyInTransactionBehavior": null,
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ Ack {{0}} {{1}}",
      "traceEntryMessageTemplate": "RMQ Ack {{_}}",
      "traceEntryCaptureSelfNested": true,
      "timerName": "RMQ Ack",
      "className": "com.rabbitmq.client.Channel",
      "methodName": "basicAck",
      "methodParameterTypes": [
        "long",
        "boolean"
      ],
      "traceEntryStackThresholdMillis": 0,
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "timer",
      "alreadyInTransactionBehavior": null,
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ Ack {{0}} {{1}}",
      "timerName": "RMQ Ack",
      "className": "com.rabbitmq.client.Channel",
      "methodName": "basicAck",
      "methodParameterTypes": [
        "long",
        "boolean"
      ],
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "transaction",
      "alreadyInTransactionBehavior": "capture-trace-entry",
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ basicConsume {{0}} {{1}} {{2}}",
      "traceEntryMessageTemplate": "RMQ basicConsume  {{_}}",
      "traceEntryCaptureSelfNested": true,
      "timerName": "RMQ basicConsume",
      "className": "com.rabbitmq.client.Channel",
      "methodName": "basicConsume",
      "methodParameterTypes": [
        ".."
      ],
      "traceEntryStackThresholdMillis": 0,
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "trace-entry",
      "alreadyInTransactionBehavior": null,
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ basicConsume {{0}} {{1}} {{2}}",
      "traceEntryMessageTemplate": "RMQ basicConsume  {{_}}",
      "traceEntryCaptureSelfNested": true,
      "timerName": "RMQ basicConsume",
      "className": "com.rabbitmq.client.Channel",
      "methodName": "basicConsume",
      "methodParameterTypes": [
        ".."
      ],
      "traceEntryStackThresholdMillis": 0,
      "transactionSlowThresholdMillis": 5
    },
    {
      "captureKind": "timer",
      "alreadyInTransactionBehavior": null,
      "transactionType": "RabbitMQ",
      "transactionNameTemplate": "RMQ basicConsume {{0}} {{1}} {{2}}",
      "timerName": "RMQ basicConsume",
      "className": "com.rabbitmq.client.Channel",
      "methodName": "basicConsume",
      "methodParameterTypes": [
        ".."
      ],
      "transactionSlowThresholdMillis": 5
    },
    {
        "className": "com.rabbitmq.client.Channel",
        "methodName": "basicPublish",
        "methodParameterTypes": [
          "java.lang.String",
          "java.lang.String",
          "com.rabbitmq.client.AMQP$BasicProperties",
          "byte[]"
        ],
        "captureKind": "transaction",
        "transactionType": "SimpleRabbitMQ",
        "transactionNameTemplate": "RabbitMQ basicPublish",
        "transactionSlowThresholdMillis": 0,
        "alreadyInTransactionBehavior": "capture-trace-entry",
        "traceEntryMessageTemplate": "{{3}}",
        "traceEntryStackThresholdMillis": 0,
        "timerName": "RMQ Simple basicPublish"
      }
  ]
}
